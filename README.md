## Решение входного задания для WebPegas

### Декоратор для Повторных Попыток с Логированием Исключений

**Описание Задачи:**

**Цель:** Написать декоратор ```retry_on_exception```, который повторяет выполнение функции при возникновении заданных исключений.
Требования:

• Декоратор принимает параметры: список исключений, при которых нужно повторить попытку, и максимальное количество попыток.

• При каждой попытке, если возникает исключение из указанного списка, функция должна быть повторно вызвана после задержки в 1 секунду.

• Если количество попыток исчерпано, исключение должно быть перехвачено и залогировано, после чего возбуждено снова.

• Декоратор должен поддерживать функции с любым количеством аргументов.



### Бот который парсит данные с сайта ``https://books.toscrape.com/``

**Для работы вам потребуется:**

1)установить все зависимости ```pip install -r requirements.txt```

2)Отредактировать файл **.env** там указываете токкен для бота и свой айди из телеграмма.
```
BOT_TOKEN=1234567:ABCDEFGHJKLIOWOASPAOSAO

ADMINS=123456789
```

**Старт бота**

Чтобы бот заработал, нужно запустить фаил ```app```

Команда ```/start``` в боте вызывает регистрацию пользователя и просит ввести **Имя**.

Далее просит ввести ссылку категории товара, которую хочет спарсить с сайта например ```https://books.toscrape.com/catalogue/category/books/music_14/index.html```.

По окончанию парсинга бот сохраняет и отправляет пользователю **csv** файл c товарами в котором написаны (Название, цена, ссылка, есть ли в наличии и их характеристики).



